"use strict";define("video",["zepto","lodash","core","react","utils","reactDOM","santaProps"],function(o,i,e,t,s,r,a){function n(o,i,e){if("100%"===e)return"100%";var t=l(),s=o?t[o].hMinSize:0;return"YOUTUBE"===o&&"always_show"===i&&(s+=20),Math.max(e,s)}function p(o,i){if("100%"===i)return"100%";var e=l(),t=o?e[o].wMinSize:0;return Math.max(i,t)}function l(){return{YOUTUBE:{url:i.template("//www.youtube.com/embed/${videoId}?"),getParams:h,hMinSize:200,wMinSize:200},VIMEO:{url:i.template("//player.vimeo.com/video/${videoId}?"),getParams:u,hMinSize:100,wMinSize:100},DAILYMOTION:{url:i.template("//www.dailymotion.com/embed/video/${videoId}?"),getParams:m,hMinSize:100,wMinSize:100},FACEBOOK:{url:i.template("//www.facebook.com/plugins/video.php?href=https://www.facebook.com/${videoId}&"),getParams:d,hMinSize:100,wMinSize:100}}}function h(o,i,e){var t=o.showControls,s=o.autoplay&&!0,r=o.enablejsapi||0,a=o.lightTheme,n=o.loop,p=o.showinfo,l=i.videoId||"";return{wmode:"transparent",autoplay:s&&e?"1":"0",theme:a?"light":"dark",controls:"always_hide"!==t?"1":"0",autohide:"temp_show"===t?"1":"0",loop:n?"1":"0",showinfo:p?"1":"0",rel:"0",playlist:!!n&&l,enablejsapi:r}}function d(o,i,e,t){return{autoplay:o.autoplay&&e,width:t.width,height:t.height}}function u(o,i,e){return{autoplay:o.autoplay&&e,loop:o.loop,byline:o.showinfo,portrait:o.showinfo,title:o.showinfo}}function m(o,i,e){return{autoplay:o.autoplay&&e,"ui-start-screen-info":o.showinfo?"1":"0",controls:"temp_show"===o.showControls?"1":"0","sharing-enable":"0","ui-logo":"0"}}function c(o,e,t,s){var r=o.videoId,a=o.videoType;if(!a||!r)return"";var n=l()[a],p=n.getParams(e,o,t,s);return n.url({videoId:r})+i.map(p,function(o,i){return i+"="+o}).join("&")}function w(o,i,e){return{width:p(o,e.width),height:n(o,i,e.height)}}return{displayName:"Video",mixins:[e.compMixins.skinBasedComp],statics:{useSantaTypes:!0},propTypes:{isPlayingAllowed:a.Types.RenderFlags.isPlayingAllowed.isRequired,compData:a.Types.Component.compData.isRequired,compProp:a.Types.Component.compProp.isRequired,style:a.Types.Component.style.isRequired},componentWillMount:function(){this.canPlayVideo=this.props.isPlayingAllowed},componentDidUpdate:function(){if(this.canPlayVideo!==this.props.isPlayingAllowed){this.canPlayVideo=this.props.isPlayingAllowed;var i=o(r.findDOMNode(this.refs.videoFrame)).find("iframe")[0],e=w(this.props.compData.videoType,this.props.compProp.showControls,this.props.style);i.src="",i.src=c(this.props.compData,this.props.compProp,this.props.isPlayingAllowed,e)}},getSkinProperties:function(){var o=w(this.props.compData.videoType,this.props.compProp.showControls,this.props.style),i=c(this.props.compData,this.props.compProp,this.props.isPlayingAllowed,o),e={height:"100%",width:"100%",allowFullScreen:!0,frameBorder:"0"};return s.validationUtils.isValidUrl(i)&&(e["data-src"]=i),this.props.addItemProp&&(e.itemProp="image"),{"":{style:{height:o.height,width:o.width}},videoFrame:{children:t.DOM.iframe(e)},preview:{style:{display:"none"}}}}}});
//# sourceMappingURL=video.min.js.map